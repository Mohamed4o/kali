name: Run Kali Linux

on: 
  push:
    branches:
      - main

jobs:
  run-kali:
    runs-on: ubuntu-latest

    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Set up Docker
        uses: docker/setup-qemu-action@v2

      - name: Pull Kali Linux Docker Image
        run: docker pull kalilinux/kali-rolling

      - name: Run Kali Container
        run: |
          docker run -d --name kali-container kalilinux/kali-rolling sleep infinity
          docker exec kali-container bash -c "apt update && apt install -y net-tools"
          docker exec kali-container bash -c "ifconfig"
